<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Blackprint Sketch</title>
	<meta name="description" content="An experimental node to node visual scripting.">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<script src="https://cdn.jsdelivr.net/npm/lodash@4.17.15/lodash.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/eventpine@1.0.3"></script>
    <!-- <script src='http://localhost:2000/dist/scarletsframe.js'></script> -->

	<!-- Use scarletsframe.es6.js for production -->
	<!-- Use scarletsframe.hot.js for development -->
	<script src="https://cdn.jsdelivr.net/npm/scarletsframe@0.31.2/dist/scarletsframe.es6.js"></script>

	<!-- Must be loaded before blackprint.js -->
	<!-- <script src="/dist/interpreter.min.js?1604835363372"></script> -->
	<script src="https://cdn.jsdelivr.net/npm/blackprint-interpreter@0.1.1/dist/interpreter.js"></script>

	<script type="text/javascript">
	  // Polyfill for Safari and Firefox
	  (function(){function z(a){document.write('<script src="'+a+'"><\/script>')}
	    if(window.PointerEvent === void 0)
	      z('https://code.jquery.com/pep/0.4.3/pep.js');
	  	if(KeyframeEffect.prototype.setKeyframes === void 0){
	  	  KeyframeEffect.prototype.setKeyframes = function(){}
	  	  KeyframeEffect.prototype.getKeyframes = function(){return [{}]}
	  	}
	  })();

	  // 1 = Will not replace model/component value (only replace function)
	  // 2 = Replace all
	  if(sf.hotReload !== void 0)
		  sf.hotReload(1);
	</script>

	<style type="text/css">
		#loading-page{
			line-height: 100vh;
			color: #ababab;
			font-size: 20px;
			text-align: center;
		}
	</style>
</head>
<body style="background-color:#232323">
	<div id="loading-page"></div>

	<!-- Assets Loader -->
	<script type="text/javascript">
		// Register sf.dom to global
		$ = sf.dom;

		// Load Blackprint module first
		;(function(){
			var url = 'https://cdn.jsdelivr.net/npm/blackprint-sketch@0.1.1-b';
			if(/localhost|127.0.0.1/.test(location.hostname)) // Development environment
				url = '';

			sf.loader.css([
			    url+"/dist/blackprint.min.css?1604835363585",

			    // Addons
			    url+"/dist/nodes-input.min.css?1604835383459",
			    url+"/dist/nodes-webaudio.min.css?1604835383478",
			    url+"/dist/nodes-graphics.min.css?1604835383515",
			    url+"/dist/nodes-decoration.min.css?1604835383534",
			]);

			sf.loader.js([
				// Load Blackprint module first
				url+"/dist/blackprint.html.js?1604835383570",
				url+"/dist/blackprint.min.js?1604835359134",

				// Addons
				url+"/dist/nodes-input.html.js?1604835383590",
				url+"/dist/nodes-input.min.js?1604835363401",

				url+"/dist/nodes-webaudio.html.js?1604835383608",
				url+"/dist/nodes-webaudio.min.js?1604835363435",

				url+"/dist/nodes-graphics.html.js?1604835383645",
				url+"/dist/nodes-graphics.min.js?1604835363509",

				url+"/dist/nodes-decoration.html.js?1604835383685",
				url+"/dist/nodes-decoration.min.js?1604835363535",
			]);
		})();

		// === Example and other assets ===
		// https://www.npmjs.com/package/scarletsframe#asset-loader
		sf.loader.css([
			'https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css',
			'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/fontawesome.min.css',
			'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/solid.min.css',
			'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/brands.min.css',
			"https://fonts.googleapis.com/css?family=Nunito",
			"/assets/mycss.min.css?1604835383551",
		]);

		sf.loader.js([
		    "https://unpkg.com/sweetalert/dist/sweetalert.min.js",
		    "https://cdn.jsdelivr.net/npm/timeplate@0.1.0",
			"/assets/myhtml.html.js?1604835383700",
			"/assets/myjs.min.js?1604835363563",
		]);

		;(function(){
			var loadingPage = document.querySelector('#loading-page');
			sf.loader.onProgress(function(loaded, total){
				if(loadingPage !== void 0)
					loadingPage.textContent = `Please wait ${Math.round(loaded/total*100)}%`;
			});

			$(function(){
				$('.statup-remove').remove();
				$('vw-ground').css('display', '');

				if(loadingPage !== void 0)
					loadingPage.remove();
			});
		})();
	</script>

	<!-- Preload background -->
	<div style="opacity:0" class="statup-remove">
		<img src="/assets/img/background/blackprint.jpg">
		<img src="/assets/img/candy.png">
	</div>

	<!-- Ground viewport -->
	<!-- ./src/vw-ground/router.js -->
	<vw-ground style="display: none"></vw-ground>
</body>
</html>