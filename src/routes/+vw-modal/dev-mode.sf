## html
<sf-m name="modal-dev-mode">
	<div class="description">Please set the Blackprint nodes server URL</div>
	<div class="text-input">
		<input placeholder="{{ placeholder }}" type="text" sf-bind="url">
	</div>
	<div class="button-import" @click="changeServer">Connect</div>
</sf-m>

## scss-global
sf-m[name="modal-dev-mode"] {
	background: #292929;
	border-radius: 10px;
	border: 2px solid black;
	position: relative;
	box-shadow: 0 0 20px 0px white;
	.description{
		padding: 10px;
		color: white;
	}
	.text-input{
		padding: 10px;
		position: relative;
		display: flex;

		input{
			width: 100%;
			border: 1px solid black;
			background: #161616;
			padding: 5px;
			color: white;
			outline: none;
		}
	}
	.button-import{
		position: relative;
		border-radius: 10px;
		background: #125c15;
		border: 1px solid #65a122;
		margin: 0 auto 5px auto;
		width: 120px;
		padding: 7px 10px;
		text-align: center;
		cursor: pointer;
		color: white;
		&:hover{
			background: #65a122;
			box-shadow: 0 0 9px #c6ebbd;
		}
	}
}

## js-global
sf.model('modal-dev-mode', function(My){
	My.url = localStorage.BPModuleServer ??= "";
	My.placeholder = location.origin;

	// Automatically move to development mode
	if(location.hostname === 'localhost' && location.pathname !== "/dev.html"){
		location.pathname = "/dev.html";
		return;
	}

	My.changeServer = async function(){
		let url = My.url;
		if(!url) url = location.origin;
		// url = 'http://localhost:6791';

		if(url.slice(-1) === '/')
			url = url.slice(0, -1);
		url += '/browser-sync';

		if(window.___browserSync___ === void 0)
			await sf.loader.js([url+'/browser-sync-client.js?v=2']);

		___browserSync___.socketUrl = url;

		let socket = ___browserSync___.socket;
		socket.disconnect();

		socket.once('connect', function(){
			console.log("Connected to Blackprint nodes server:", url);
			SmallNotif.add("Connected to Blackprint node server", "green");
		});

		socket.nsp = '/browser-sync';
		socket.io.uri = url;
		socket.connect();

		Modal.hide();
	}

	if(My.url !== '' && sf.hotReload !== void 0)
		My.changeServer();
});